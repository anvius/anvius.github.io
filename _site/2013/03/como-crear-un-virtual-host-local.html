<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Como crear un virtual host local :: Un blog más de Internet.</title>
    <meta name="description" content="Como crear un virtual host local en lighttpd, apache y nginx.">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width">
    
    <!-- If you want geolocalizate the website>
    <meta name=“geo.region” content=“United States” />
    <! -->
    
    <link rel="shortcut icon" href="/assets/images/icons/favicon.ico">
    <link rel="apple-touch-icon" href="/assets/images/icons/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/images/icons/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/images/icons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/images/icons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/images/icons/apple-touch-icon-144x144.png">
    
    <link rel="stylesheet" href="/assets/css/gridcss.css">
    <link rel="stylesheet" href="/assets/css/syntax.css">
    
  </head>
  <body>
    <!--[if lt IE 7]>
      <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->
          
    <!-- Header -->
	<header class="row" id="header">
	  <hgroup class="col12">
		<img src="/assets/images/ant.onio.logo.png" class="float-left" />
		<h1 class="bold"><a href="/">Antonio Villamar&iacute;n</a></h1>
		<h6>ant.onio.org | Un blog m&aacute;s de internet</h6>
	  </hgroup>
	</header>
    <!-- Section -->
    <article class="row" id="body">
     <!-- Main article -->
      <div class="col9">
        		<section>
			<header>
				<h3><a href="">Como crear un virtual host local</a></h3>
				<p class="small">12.03.2013 Por <span class="author vcard"><a rel="author"  class="url fn" href="http://ant.onio.org/sobre-mi.html">Antonio Villamar&iacute;n</a></span></p>
				<!-- Social like's -->
					<div>
						<script type="text/javascript">
						document.write( '<iframe src="http://www.facebook.com/plugins/like.php?href=' +
						encodeURI(window.location.href) +
						'&amp;layout=button_count&amp;show_faces=false&amp;width=120&amp;action=like&amp;colorscheme=light" scrolling="no" frameborder="0" allowTransparency="true" style="border:none; overflow:hidden; width:120px; height:20px"></iframe>'
						);
						</script>
						<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="antvillamarin">Tweet</a>
						<script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
						<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
						<g:plusone size="medium"></g:plusone>
						<script type="text/javascript" src="http://meneame.net/api/check_url.js.php"></script>
					</div>
			</header>
			<article>
				
					<img src="/assets/images/virtualhost.jpg" class="float-right" />
				
				<p>Antes de empezar, habría que aclarar para los más novatos, qué es un virtual host y para qué puedo querer uno local.</p>

<h3>¿Qué es un virtual host?</h3>

<p>Un virtual host es como se denomina a un &ldquo;servidor&rdquo; virtual dentro de un servidor real. Por ejemplo, si nosotros tenemos un servidor para alojar nuestras páginas web, primero tenemos configurado el servidor para que responda a las peticiones que se le hacen desde el exterior y después dentro de este servidor debemos crear un &ldquo;servidor virtual&rdquo; que responda a un determinado dominio o grupo de dominios. Este servidor virtual (que no es un servidor como tal) lo que hace es crear un entorno sobre ese dominio, donde puede definirse la carpeta donde estará, quién puede acceder a él, etc&hellip;</p>

<h3>¿Porqué querría definir un virtual host local?</h3>

<p>Cuando se programan servicios web y debemos hacer pruebas de la programación, es cómodo no tener que subir la programación que hemos hecho a un servidor o a un hosting para  probarlo, sino probarlo en nuestro equipo directamente. Para eso creamos un virtual host local con un dominio &ldquo;inventado&rdquo; y así podemos probarlo con comodidad, para que cuando esté listo podamos subirlo a nuestro servidor en producción.</p>

<h3>Crear virtual host local</h3>

<p>Para definir un virtual host en un servidor de producción, normalmente tendríamos que hacer dos cosas; primero redirigir las peticiones del dominio al servidor web de la máquina con, por ejemplo, bind9, definiendo sus dns. Segundo Crear el virtual host en nuestro servidor de páginas web añadiendo el dominio, puerto, etc&hellip;</p>

<p>En el caso de ser local, no es necesario tocar el bind, porque nuestra máquina, al primer sitio que va a revisar el nombre del dominio es a nuestro fichero hosts en caso contrario es cuando busca las dns del dominio en internet. Esto es así en linux, windows y mac, aunque en cada uno de ellos está situado en una parte del sistema. En linux y mac se encuentra en la carpeta /etc/hosts, mientras que en windows está en la ruta c:/windows/system32/drivers/hosts.</p>

<p>Este fichero tiene una estructura muy sencilla, indica la ip y después el host en cada linea, de la siguiente forma (recordar que esto solamente es el local).</p>

<div class="highlight"><pre><code class="apache"><span class="err">127</span>.<span class="err">0</span>.<span class="err">0</span>.<span class="err">1</span>    <span class="nb">localhost</span>
</code></pre></div>


<p>localhost es nuestro virtual host local por defecto, solamente tendríamos que definir en nuestro servidor web en qué carpeta queremos que lea.</p>

<p>Pero normalmente no estamos desarrollando solamente una cosa, y nos puede venir bien definir nuestros propios dominios.</p>

<p>A modo de ejemplo voy a definir el dominio inventado <strong>prueba.dev</strong>.</p>

<div class="highlight"><pre><code class="apache"><span class="err">127</span>.<span class="err">0</span>.<span class="err">0</span>.<span class="err">1</span>    <span class="nb">localhost</span>
<span class="m">127.0.0.1</span>    prueba.dev
</code></pre></div>


<p>Guardamos y ya está.</p>

<p>Hay que decir que 127.0.0.1 es la ip local de nuestro equipo. Si lo tuviéramos en otro equipo podríamos definirlo con esa ip.</p>

<p>Ahora debemos cambiar el servidor de páginas web.</p>

<h3>LightTPD</h3>

<p>Debemos ir al directorio de configuración de LightTPD en nuestro equipo (si pusimos 127.0.0.1). En linux y mac está en el directorio /etc/lighttpd (esta ruta puede cambiar según la versión). En windows donde hayamos instalado el LightTPD (Esto es igual en Apache y nGinX). Editamos el archivo virtualhosts.conf y añadimos un host virtual con el dominio inventado que hemos creado al final del fichero.</p>

<div class="highlight"><pre><code class="lighttpd"><span class="nb">$HTTP</span><span class="p">[</span><span class="s2">&quot;host&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;prueba.dev&quot;</span> <span class="p">{</span>
    <span class="k">server.document-root</span> <span class="o">=</span> <span class="s2">&quot;/home/antonio/miweb/&quot;</span>
    <span class="k">server.name</span> <span class="o">=</span> <span class="s2">&quot;prueba.dev&quot;</span>
<span class="p">}</span>
</code></pre></div>


<p>Hay muchas más opciones que pueden añadirse, como si queremos que se ejecute python o queremos que se haga visible nuestro directorio al entrar, pero con esto para ejecutarlo nos basta.</p>

<p>Después reiniciamos el servidor web. En linux y mac nos valdría con &ldquo;sudo service lighttpd restart&rdquo;. En windows reiniciamos con el programa que hayamos instalado.</p>

<h3>Apache</h3>

<p>El archivo que tenemos que editar se llama apache2.conf o httpd.conf, dependiendo de la versión.</p>

<div class="highlight"><pre><code class="apache"><span class="nt">&lt;VirtualHost</span> <span class="s">*:80</span><span class="nt">&gt;</span>
    <span class="nb">DocumentRoot</span> <span class="sx">/home/antonio/miweb</span>
    <span class="nb">ServerName</span> prueba.dev
<span class="nt">&lt;/VirtualHost&gt;</span>
</code></pre></div>


<p>Reiniciamos apache y listo.</p>

<h3>nGinX</h3>

<p>En nGinX creamos un fichero para el virtual host en la carpeta &ldquo;conf.d/&rdquo; de la configuración (Recordamos que las configuraciones en LInux y Mac suelen estar en /etc y en este caso /etc/nginx/), llamado prueba.dev.conf y añadimos lo siguiente:</p>

<div class="highlight"><pre><code class="nginx"><span class="k">server</span> <span class="p">{</span>
    <span class="kn">listen</span>       <span class="n">127.0.0.1</span><span class="p">:</span><span class="mi">80</span><span class="p">;</span>
    <span class="kn">server_name</span>  <span class="s">prueba.dev</span><span class="p">;</span>
    <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
        <span class="kn">root</span> <span class="s">/home/antonio/miweb</span><span class="p">;</span>
        <span class="kn">index</span> <span class="s">index.html</span> <span class="s">index.htm</span> <span class="s">index.php</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>


<p>Y por supuesto reiniciamos el nGinX.</p>

<h3>Uso</h3>

<p>Ahora podemos abrir nuestro navegador favorito y poner la dirección prueba.dev y veremos el directorio al que lo hemos redirigido. En algunas ocasiones no funciona correctamente, porque el navegador se va a burcar la ruta a internet. Esto lo solventamos añadiéndole una barra al final, tal que prueba.dev/.</p>

<p>Y esto es todo, ahora a programar :)</p>

			</article>
			
				<footer>
					<!-- Comentarios -->
					<div id="disqus_thread"></div>
					<script type="text/javascript">
						/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
						var disqus_shortname = 'villamarin'; // required: replace example with your forum shortname

						/* * * DON'T EDIT BELOW THIS LINE * * */
						(function() {
							var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
							dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
							(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
						})();
					</script>
					<noscript>
						Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
					</noscript>
					<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
				</footer>
   			 

		</section>

      </div>
      <!-- Aside -->
      <aside class="col3">
        <nav>
          		<h4>Info</h4>
		<ul>
			<li>
				<a href="//github.com/villamarin"><img src="/assets/images/icons/Github.png" alt="GitHub" /></a>
				<a href="//twitter.com/antvillamarin"><img src="/assets/images/icons/Twitter.png" alt="Twitter" /></a>
				<!-- <span class="author vcard"><a rel="author" href="//plus.google.com/114899077462139891523" class="url fn"><img src="/assets/images/icons/GooglePlus.png" /></a></span>
				<a href="//www.facebook.com/villamarin"><img src="/assets/images/icons/Facebook.png" /></a>
				<a href="//www.linkedin.com/in/villamarin"><img src="/assets/images/icons/LinkedIn.png" /></a>
				<a href="//feeds.feedburner.com/AntonioVillamarin"><img src="/assets/images/icons/Feed.png"/></a>
				<a href="http://www.safecreative.org/userfeed/1302160074501" target="ccb0117a-c690-3676-aaac-6bb847dffd91"><img src="http://resources.safecreative.org/userfeed/1302160074501/label/logo2-150" style="width:36px;position:relative;bottom:-1px;left:-3px;" alt="Safe Creative #1302160074501"/></a> -->
			</li>
			<li><a href="/sobre-mi.html">Sobre mí</a></li>
		</ul>

		<h4>Proyectos</h4>
		<ul>
			<li><a href="//www.gridcss.com">Grid CSS</a></li>
			<li><a href="//notify.gridcss.com">JQuery Notify</a></li>
			<li><a href="//www.phpencode.org">PHP Obfuscator</a></li>
		</ul>

		<h4>Blogs que sigo</h4>
		<ul>
			<li><a href="//www.domisfera.com">Domisfera</a></li>
			<li><a href="//www.cristalab.com">Cristalab</a></li>
			<li><a href="//www.rm-rf.es">rm -Rf</a></li>
			<li><a href="//www.catswhocode.com">Cats Who Code</a></li>
			<li><a href="//davidwalsh.name/">David Walsh</a></li>
			<li><a href="//smashinghub.com/">Smashing Hub</a></li>
			<li><a href="//gaussianos.com/">Gaussianos</a></li>
			<li><a href="//pixelcoblog.com//">Pixel Co</a></li>
			<li><a href="//wwwhatsnew.com/">WWWhats new</a></li>
		</ul>

		<h4>Suscripción RSS</h4>
		<ul>
			<li><a href="//feeds.feedburner.com/AntonioVillamarin"><img src="http://feeds.feedburner.com/~fc/AntonioVillamarin?bg=FFFFFF&amp;fg=444444&amp;anim=0" height="26" width="88" style="border:0" alt="" /></a></li>
		</ul>

        </nav>
      </aside>
    </article>
    <!-- Footer -->
	<footer class="row" id="footer">
	  <div class="col12" id="copyright">
				<!--<p class="small center">
			&copy; 2013, <span class="author vcard"><a rel="author"  class="url fn" href="http://ant.onio.org">Antonio Villamarin</a></span>
			| <a href="/humans.txt">Humans.txt</a> | <a href="/sitemap.xml">Sitemap</a>
		</p> -->
		<p class="small center">
			Este blog es posible gracias a <a href="http://www.gridcss.com">Grid CSS</a> y <a href="http://github.com/mojombo/jekyll">Jekyll</a>. 
			Contenidos <a href="http://www.safecreative.org/userfeed/1302160074501" target="ccb0117a-c690-3676-aaac-6bb847dffd91">Creative Commons BY 3.0</a>
		</p>

	  </div>
	</footer>

    <!-- Load jQuery and Plugins -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script>
      window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.0.min.js"><\/script>');
    </script>
    <script src="/assets/js/gridcss.js"></script>
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3709753-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>
</html>
